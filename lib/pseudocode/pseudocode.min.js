!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pseudocode=e()}}(function(){return function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){return r(t[s][1][e]||e)},p,p.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(e,t,n){var i=e("./src/ParseError"),r=e("./src/Lexer"),o=e("./src/Parser"),s=e("./src/Renderer");function a(e,t){var n=new r(e),i=new o(n);return new s(i,t)}function h(e){try{MathJax.typeset([e])}catch(t){MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}}t.exports={ParseError:i,render:function(e,t,n){if(null==e)throw"input cannot be empty";var i=a(e,n),r=i.toDOM();return t&&t.appendChild(r),"mathjax"===i.backend.name&&h(r),r},renderToString:function(e,t){if(null==e)throw"input cannot be empty";var n=a(e,t);return"mathjax"===n.backend.name&&console.warn("Using MathJax backend -- math may not be rendered."),n.toMarkup()},renderElement:function(e,t){if(!(e instanceof Element))throw"a DOM element is required";e.style.display="none";var n=a(e.textContent,t),i=n.toDOM();return e.replaceWith(i),n.backend&&"mathjax"===n.backend.name&&h(i),i},renderClass:function(e,t){var n=document.getElementsByClassName(e);const i=n.length;for(var r=0;r<i;r++)pseudocode.renderElement(n[0],t)}}},{"./src/Lexer":2,"./src/ParseError":3,"./src/Parser":4,"./src/Renderer":5}],2:[function(e,t,n){var i=e("./utils"),r=e("./ParseError"),o=function(e){this._input=e,this._remain=e,this._pos=0,this._nextAtom=this._currentAtom=null,this._next()};o.prototype.accept=function(e,t){return this._nextAtom.type===e&&this._matchText(t)?(this._next(),this._currentAtom.text):null},o.prototype.expect=function(e,t){var n=this._nextAtom;if(n.type!==e)throw new r("Expect an atom of "+e+" but received "+n.type,this._pos,this._input);if(!this._matchText(t))throw new r("Expect `"+t+"` but received `"+n.text+"`",this._pos,this._input);return this._next(),this._currentAtom.text},o.prototype.get=function(){return this._currentAtom};var s={special:/^(\\\\|\\{|\\}|\\\$|\\&|\\#|\\%|\\_)/,math:{exec:function(e){for(var t=[{start:"$",end:"$"},{start:"\\(",end:"\\)"}],n=e.length,i=0;i<t.length;i++){var o=t[i].start;if(0===e.indexOf(o))for(var s=t[i].end,a=o.length,h=e.slice(a);a<n;){var l=h.indexOf(s);if(l<0)throw new r("Math environment is not closed",this._pos,this._input);if(!(l>0&&"\\"===h[l-1]))return[e.slice(0,a+l+s.length),e.slice(o.length,a+l)];var p=l+s.length;h=h.slice(p),a+=p}}return null}},func:/^\\([a-zA-Z]+)/,open:/^\{/,close:/^\}/,quote:/^(`|``|'|'')/,ordinary:/^[^\\{}$&#%_\s]+/},a=/^%.*/,h=/^\s+/;o.prototype._skip=function(e){this._pos+=e,this._remain=this._remain.slice(e)},o.prototype._next=function(){for(var e=!1;;){var t=h.exec(this._remain);if(t){e=!0;var n=t[0].length;this._skip(n)}var i=a.exec(this._remain);if(!i)break;var o=i[0].length;this._skip(o)}if(this._currentAtom=this._nextAtom,""===this._remain)return this._nextAtom={type:"EOF",text:null,whitespace:!1},!1;for(var l in s){var p=s[l].exec(this._remain);if(p){var c=p[0],u=p[1]?p[1]:c;return this._nextAtom={type:l,text:u,whitespace:e},this._pos+=c.length,this._remain=this._remain.slice(p[0].length),!0}}throw new r("Unrecoganizable atom",this._pos,this._input)},o.prototype._matchText=function(e){return null==e||(i.isString(e)?e.toLowerCase()===this._nextAtom.text.toLowerCase():(e=e.map(function(e){return e.toLowerCase()})).indexOf(this._nextAtom.text.toLowerCase())>=0)},t.exports=o},{"./ParseError":3,"./utils":6}],3:[function(e,t,n){function i(e,t,n){var i="Error: "+e;if(void 0!==t&&void 0!==n){i+=" at position "+t+": `",n=n.slice(0,t)+"↱"+n.slice(t);var r=Math.max(0,t-15),o=t+15;i+=n.slice(r,o)+"`"}this.message=i}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,t.exports=i},{}],4:[function(e,t,n){var i=e("./utils"),r=e("./ParseError"),o=function(e,t){this.type=e,this.value=t,this.children=[]};o.prototype.toString=function(e){e||(e=0);for(var t="",n=0;n<e;n++)t+="  ";var r=t+"<"+this.type+">";if(this.value&&(r+=" ("+i.toString(this.value)+")"),r+="\n",this.children)for(var o=0;o<this.children.length;o++){r+=this.children[o].toString(e+1)}return r},o.prototype.addChild=function(e){if(!e)throw"argument cannot be null";this.children.push(e)};var s=function(e,t,n){this.type=e,this.value=t,this.children=null,this.whitespace=!!n};s.prototype=o.prototype;var a=function(e){this._lexer=e};a.prototype.parse=function(){for(var e=new o("root");;){var t,n=this._acceptEnvironment();if(null===n)break;if("algorithm"===n)t=this._parseAlgorithmInner();else{if("algorithmic"!==n)throw new r("Unexpected environment "+n);t=this._parseAlgorithmicInner()}this._closeEnvironment(n),e.addChild(t)}return this._lexer.expect("EOF"),e},a.prototype._acceptEnvironment=function(){var e=this._lexer;if(!e.accept("func","begin"))return null;e.expect("open");var t=e.expect("ordinary");return e.expect("close"),t},a.prototype._closeEnvironment=function(e){var t=this._lexer;t.expect("func","end"),t.expect("open"),t.expect("ordinary",e),t.expect("close")},a.prototype._parseAlgorithmInner=function(){for(var e=new o("algorithm");;){var t=this._acceptEnvironment();if(null===t){var n=this._parseCaption();if(!n)break;e.addChild(n)}else{if("algorithmic"!==t)throw new r("Unexpected environment "+t);var i=this._parseAlgorithmicInner();this._closeEnvironment(),e.addChild(i)}}return e},a.prototype._parseAlgorithmicInner=function(){for(var e,t=new o("algorithmic");;)if(e=this._parseStatement(h))t.addChild(e);else{if(!((e=this._parseBlock()).children.length>0))break;t.addChild(e)}return t},a.prototype._parseCaption=function(){var e=this._lexer;if(!e.accept("func","caption"))return null;var t=new o("caption");return e.expect("open"),t.addChild(this._parseCloseText()),e.expect("close"),t},a.prototype._parseBlock=function(){for(var e=new o("block");;){var t=this._parseControl();if(t)e.addChild(t);else{var n=this._parseFunction();if(n)e.addChild(n);else{var i=this._parseStatement(l);if(i)e.addChild(i);else{var r=this._parseCommand(p);if(r)e.addChild(r);else{var s=this._parseComment();if(!s)break;e.addChild(s)}}}}}return e},a.prototype._parseControl=function(){var e;return(e=this._parseIf())?e:(e=this._parseLoop())?e:(e=this._parseRepeat())?e:void 0},a.prototype._parseFunction=function(){var e=this._lexer;if(!e.accept("func",["function","procedure"]))return null;var t=this._lexer.get().text;e.expect("open");var n=e.expect("ordinary");e.expect("close"),e.expect("open");var i=this._parseCloseText();e.expect("close");var r=this._parseBlock();e.expect("func","end"+t);var s=new o("function",{type:t,name:n});return s.addChild(i),s.addChild(r),s},a.prototype._parseIf=function(){if(!this._lexer.accept("func","if"))return null;var e=new o("if");this._lexer.expect("open"),e.addChild(this._parseCond()),this._lexer.expect("close"),e.addChild(this._parseBlock());for(var t=0;this._lexer.accept("func",["elif","elsif","elseif"]);)this._lexer.expect("open"),e.addChild(this._parseCond()),this._lexer.expect("close"),e.addChild(this._parseBlock()),t++;var n=!1;return this._lexer.accept("func","else")&&(n=!0,e.addChild(this._parseBlock())),this._lexer.expect("func","endif"),e.value={numElif:t,hasElse:n},e},a.prototype._parseLoop=function(){if(!this._lexer.accept("func",["FOR","FORALL","WHILE"]))return null;var e=this._lexer.get().text.toLowerCase(),t=new o("loop",e);this._lexer.expect("open"),t.addChild(this._parseCond()),this._lexer.expect("close"),t.addChild(this._parseBlock());var n="forall"!==e?"end"+e:"endfor";return this._lexer.expect("func",n),t},a.prototype._parseRepeat=function(){if(!this._lexer.accept("func",["REPEAT"]))return null;var e=this._lexer.get().text.toLowerCase(),t=new o("repeat",e);return t.addChild(this._parseBlock()),this._lexer.expect("func","until"),this._lexer.expect("open"),t.addChild(this._parseCond()),this._lexer.expect("close"),t};var h=["ensure","require","input","output"],l=["state","print","return"];a.prototype._parseStatement=function(e){if(!this._lexer.accept("func",e))return null;var t=this._lexer.get().text.toLowerCase(),n=new o("statement",t);return n.addChild(this._parseOpenText()),n};var p=["break","continue"];a.prototype._parseCommand=function(e){if(!this._lexer.accept("func",e))return null;var t=this._lexer.get().text.toLowerCase();return new o("command",t)},a.prototype._parseComment=function(){if(!this._lexer.accept("func","comment"))return null;var e=new o("comment");return this._lexer.expect("open"),e.addChild(this._parseCloseText()),this._lexer.expect("close"),e},a.prototype._parseCall=function(){var e=this._lexer;if(!e.accept("func","call"))return null;var t=e.get().whitespace;e.expect("open");var n=e.expect("ordinary");e.expect("close");var i=new o("call");i.whitespace=t,i.value=n,e.expect("open");var r=this._parseCloseText();return i.addChild(r),e.expect("close"),i},a.prototype._parseCond=a.prototype._parseCloseText=function(){return this._parseText("close")},a.prototype._parseOpenText=function(){return this._parseText("open")},a.prototype._parseText=function(e){for(var t,n=new o(e+"-text"),i=!1;;)if(t=this._parseAtom()||this._parseCall())i&&(t.whitespace|=i),n.addChild(t);else{if(!this._lexer.accept("open"))break;t=this._parseCloseText(),i=this._lexer.get().whitespace,t.whitespace=i,n.addChild(t),this._lexer.expect("close"),i=this._lexer.get().whitespace}return n};var c={ordinary:{tokenType:"ordinary"},math:{tokenType:"math"},special:{tokenType:"special"},"cond-symbol":{tokenType:"func",tokenValues:["and","or","not","true","false","to","downto"]},"quote-symbol":{tokenType:"quote"},"sizing-dclr":{tokenType:"func",tokenValues:["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"]},"font-dclr":{tokenType:"func",tokenValues:["normalfont","rmfamily","sffamily","ttfamily","upshape","itshape","slshape","scshape","bfseries","mdseries","lfseries"]},"font-cmd":{tokenType:"func",tokenValues:["textnormal","textrm","textsf","texttt","textup","textit","textsl","textsc","uppercase","lowercase","textbf","textmd","textlf"]},"text-symbol":{tokenType:"func",tokenValues:["textbackslash"]}};a.prototype._parseAtom=function(){for(var e in c){var t=c[e],n=this._lexer.accept(t.tokenType,t.tokenValues);if(null!==n){var i=this._lexer.get().whitespace;return"ordinary"!==e&&"math"!==e&&(n=n.toLowerCase()),new s(e,n,i)}}return null},t.exports=a},{"./ParseError":3,"./utils":6}],5:[function(e,t,n){var i=e("./utils");function r(e){this._css={},this._fontSize=this._outerFontSize=void 0!==e?e:1}function o(e,t){this._nodes=e,this._textStyle=t}function s(){this._body=[],this._textBuf=[]}r.prototype.outerFontSize=function(e){return void 0!==e&&(this._outerFontSize=e),this._outerFontSize},r.prototype.fontSize=function(){return this._fontSize},r.prototype._fontCommandTable={normalfont:{"font-family":"KaTeX_Main"},rmfamily:{"font-family":"KaTeX_Main"},sffamily:{"font-family":"KaTeX_SansSerif"},ttfamily:{"font-family":"KaTeX_Typewriter"},bfseries:{"font-weight":"bold"},mdseries:{"font-weight":"medium"},lfseries:{"font-weight":"lighter"},upshape:{"font-style":"normal","font-variant":"normal"},itshape:{"font-style":"italic","font-variant":"normal"},scshape:{"font-style":"normal","font-variant":"small-caps"},slshape:{"font-style":"oblique","font-variant":"normal"},textnormal:{"font-family":"KaTeX_Main"},textrm:{"font-family":"KaTeX_Main"},textsf:{"font-family":"KaTeX_SansSerif"},texttt:{"font-family":"KaTeX_Typewriter"},textbf:{"font-weight":"bold"},textmd:{"font-weight":"medium"},textlf:{"font-weight":"lighter"},textup:{"font-style":"normal","font-variant":"normal"},textit:{"font-style":"italic","font-variant":"normal"},textsc:{"font-style":"normal","font-variant":"small-caps"},textsl:{"font-style":"oblique","font-variant":"normal"},uppercase:{"text-transform":"uppercase"},lowercase:{"text-transform":"lowercase"}},r.prototype._sizingScalesTable={tiny:.68,scriptsize:.8,footnotesize:.85,small:.92,normalsize:1,large:1.17,Large:1.41,LARGE:1.58,huge:1.9,Huge:2.28},r.prototype.updateByCommand=function(e){var t=this._fontCommandTable[e];if(void 0===t){var n=this._sizingScalesTable[e];if(void 0!==n)return this._outerFontSize=this._fontSize,void(this._fontSize=n);throw new ParserError("unrecogniazed text-style command")}for(var i in t)this._css[i]=t[i]},r.prototype.toCSS=function(){var e="";for(var t in this._css){var n=this._css[t];void 0!==n&&(e+=t+":"+n+";")}return this._fontSize!==this._outerFontSize&&(e+="font-size:"+this._fontSize/this._outerFontSize+"em;"),e},o.prototype._renderCloseText=function(e,t){var n=new r(this._textStyle.fontSize()),i=new o(e.children,n);e.whitespace&&this._html.putText(" "),this._html.putHTML(i.renderToHTML(t))},o.prototype.renderToHTML=function(e){var t;for(this._html=new s;void 0!==(t=this._nodes.shift());){var n=t.type,i=t.value;switch(t.whitespace&&this._html.putText(" "),n){case"ordinary":this._html.putText(i);break;case"math":if(void 0===e)throw"No math backend found. Please setup KaTeX or MathJax.";if("katex"===e.name)this._html.putHTML(e.driver.renderToString(i));else{if("mathjax"!==e.name)throw"Unknown math backend "+e;this._html.putText("$"+i+"$")}break;case"cond-symbol":this._html.beginSpan("ps-keyword").putText(i.toLowerCase()).endSpan();break;case"special":if("\\\\"===i){this._html.putHTML("<br/>");break}var a={"\\{":"{","\\}":"}","\\$":"$","\\&":"&","\\#":"#","\\%":"%","\\_":"_"}[i];this._html.putText(a);break;case"text-symbol":var h={textbackslash:"\\"}[i];this._html.putText(h);break;case"quote-symbol":var l={"`":"‘","``":"“","'":"’","''":"”"}[i];this._html.putText(l);break;case"call":this._html.beginSpan("ps-funcname").putText(i).endSpan(),this._html.write("(");var p=t.children[0];this._renderCloseText(p,e),this._html.write(")");break;case"close-text":this._renderCloseText(t,e);break;case"font-dclr":case"sizing-dclr":this._textStyle.updateByCommand(i),this._html.beginSpan(null,this._textStyle.toCSS());var c=new o(this._nodes,this._textStyle);this._html.putHTML(c.renderToHTML(e)),this._html.endSpan();break;case"font-cmd":var u=this._nodes[0];if("close-text"!==u.type)continue;var d=new r(this._textStyle.fontSize());d.updateByCommand(i),this._html.beginSpan(null,d.toCSS());var f=new o(u.children,d);this._html.putHTML(f.renderToHTML(e)),this._html.endSpan();break;default:throw new ParseError("Unexpected ParseNode of type "+t.type)}}return this._html.toMarkup()},s.prototype.beginDiv=function(e,t,n){return this._beginTag("div",e,t,n),this._body.push("\n"),this},s.prototype.endDiv=function(){return this._endTag("div"),this._body.push("\n"),this},s.prototype.beginP=function(e,t,n){return this._beginTag("p",e,t,n),this._body.push("\n"),this},s.prototype.endP=function(){return this._flushText(),this._endTag("p"),this._body.push("\n"),this},s.prototype.beginSpan=function(e,t,n){return this._flushText(),this._beginTag("span",e,t,n)},s.prototype.endSpan=function(){return this._flushText(),this._endTag("span")},s.prototype.putHTML=function(e){return this._flushText(),this._body.push(e),this},s.prototype.putText=function(e){return this._textBuf.push(e),this},s.prototype.write=function(e){this._body.push(e)},s.prototype.toMarkup=function(){return this._flushText(),this._body.join("").trim()},s.prototype.toDOM=function(){var e=this.toMarkup(),t=document.createElement("div");return t.innerHTML=e,t.firstChild},s.prototype._flushText=function(){if(0!==this._textBuf.length){var e=this._textBuf.join("");this._body.push(this._escapeHtml(e)),this._textBuf=[]}},s.prototype._beginTag=function(e,t,n,r){var o="<"+e;if(t&&(o+=' class="'+t+'"'),n){var s;if(i.isString(n))s=n;else for(var a in s="",n)attrVal=n[a],s+=a+":"+attrVal+";";r&&(s+=r),o+=' style="'+s+'"'}return o+=">",this._body.push(o),this},s.prototype._endTag=function(e){return this._body.push("</"+e+">"),this};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function h(e){e=e||{},this.indentSize=e.indentSize?this._parseEmVal(e.indentSize):1.2,this.commentDelimiter=e.commentDelimiter||" // ",this.lineNumberPunc=e.lineNumberPunc||":",this.lineNumber=void 0!==e.lineNumber&&e.lineNumber,this.noEnd=void 0!==e.noEnd&&e.noEnd,void 0!==e.captionCount&&(l.captionCount=e.captionCount),this.titlePrefix=e.titlePrefix||"Algorithm"}function l(t,n){this._root=t.parse(),this._options=new h(n),this._openLine=!1,this._blockLevel=0,this._textLevel=-1,this._globalTextStyle=new r,this.backend=void 0;try{"undefined"==typeof katex&&(katex=e("katex"))}catch(e){}try{"undefined"==typeof MathJax&&(MathJax=e("mathjax"))}catch(e){}"undefined"!=typeof katex?this.backend={name:"katex",driver:katex}:"undefined"!=typeof MathJax&&(this.backend={name:"mathjax",driver:MathJax})}s.prototype._escapeHtml=function(e){return String(e).replace(/[&<>"'/]/g,function(e){return a[e]})},h.prototype._parseEmVal=function(e){if((e=e.trim()).indexOf("em")!==e.length-2)throw"option unit error; no `em` found";return Number(e.substring(0,e.length-2))},l.captionCount=0,l.prototype.toMarkup=function(){var e=this._html=new s;return this._buildTree(this._root),delete this._html,e.toMarkup()},l.prototype.toDOM=function(){var e=this.toMarkup(),t=document.createElement("div");return t.innerHTML=e,t.firstChild},l.prototype._beginGroup=function(e,t,n){this._closeLineIfAny(),this._html.beginDiv("ps-"+e+(t?" "+t:""),n)},l.prototype._endGroup=function(e){this._closeLineIfAny(),this._html.endDiv()},l.prototype._beginBlock=function(){var e=this._options.lineNumber&&0===this._blockLevel?.6:0,t=this._options.indentSize+e;this._beginGroup("block",null,{"margin-left":t+"em"}),this._blockLevel++},l.prototype._endBlock=function(){this._closeLineIfAny(),this._endGroup(),this._blockLevel--},l.prototype._newLine=function(){this._closeLineIfAny(),this._openLine=!0,this._globalTextStyle.outerFontSize(1);var e=this._options.indentSize;this._blockLevel>0?(this._numLOC++,this._html.beginP("ps-line ps-code",this._globalTextStyle.toCSS()),this._options.lineNumber&&this._html.beginSpan("ps-linenum",{left:-(this._blockLevel-1)*(1.25*e)+"em"}).putText(this._numLOC+this._options.lineNumberPunc).endSpan()):this._html.beginP("ps-line",{"text-indent":-e+"em","padding-left":e+"em"},this._globalTextStyle.toCSS())},l.prototype._closeLineIfAny=function(){this._openLine&&(this._html.endP(),this._openLine=!1)},l.prototype._typeKeyword=function(e){this._html.beginSpan("ps-keyword").putText(e).endSpan()},l.prototype._typeFuncName=function(e){this._html.beginSpan("ps-funcname").putText(e).endSpan()},l.prototype._typeText=function(e){this._html.write(e)},l.prototype._buildTreeForAllChildren=function(e){for(var t=e.children,n=0;n<t.length;n++)this._buildTree(t[n])},l.prototype._buildCommentsFromBlock=function(e){for(var t=e.children;t.length>0&&"comment"===t[0].type;){var n=t.shift();this._buildTree(n)}},l.prototype._buildTree=function(e){var t,n,i;switch(e.type){case"root":this._beginGroup("root"),this._buildTreeForAllChildren(e),this._endGroup();break;case"algorithm":var s;for(t=0;t<e.children.length;t++)"caption"===(n=e.children[t]).type&&(s=n,l.captionCount++);for(s?(this._beginGroup("algorithm","with-caption"),this._buildTree(s)):this._beginGroup("algorithm"),t=0;t<e.children.length;t++)"caption"!==(n=e.children[t]).type&&this._buildTree(n);this._endGroup();break;case"algorithmic":this._options.lineNumber?(this._beginGroup("algorithmic","with-linenum"),this._numLOC=0):this._beginGroup("algorithmic"),this._buildTreeForAllChildren(e),this._endGroup();break;case"block":this._beginBlock(),this._buildTreeForAllChildren(e),this._endBlock();break;case"function":var a=e.value.type.toLowerCase(),h=e.value.name;i=e.children[0];var p=e.children[1];this._newLine(),this._typeKeyword(a+" "),this._typeFuncName(h),this._typeText("("),this._buildTree(i),this._typeText(")"),this._buildCommentsFromBlock(p),this._buildTree(p),this._options.noEnd||(this._newLine(),this._typeKeyword("end "+a));break;case"if":this._newLine(),this._typeKeyword("if "),ifCond=e.children[0],this._buildTree(ifCond),this._typeKeyword(" then");var c=e.children[1];this._buildCommentsFromBlock(c),this._buildTree(c);for(var u=e.value.numElif,d=0;d<u;d++){this._newLine(),this._typeKeyword("else if ");var f=e.children[2+2*d];this._buildTree(f),this._typeKeyword(" then");var _=e.children[2+2*d+1];this._buildCommentsFromBlock(_),this._buildTree(_)}if(e.value.hasElse){this._newLine(),this._typeKeyword("else");var m=e.children[e.children.length-1];this._buildCommentsFromBlock(m),this._buildTree(m)}this._options.noEnd||(this._newLine(),this._typeKeyword("end if"));break;case"loop":this._newLine();var x=e.value;this._typeKeyword({for:"for",forall:"for all",while:"while"}[x]+" ");var y=e.children[0];this._buildTree(y),this._typeKeyword(" do");var v=e.children[1];if(this._buildCommentsFromBlock(v),this._buildTree(v),!this._options.noEnd){this._newLine();var b="while"===x?"end while":"end for";this._typeKeyword(b)}break;case"repeat":this._newLine(),this._typeKeyword("repeat");var w=e.children[0];this._buildCommentsFromBlock(w),this._buildTree(w),this._newLine(),this._typeKeyword("until ");var g=e.children[1];this._buildTree(g);break;case"command":var T={break:"break",continue:"continue"}[e.value];this._newLine(),T&&this._typeKeyword(T);break;case"caption":this._newLine(),this._typeKeyword(this._options.titlePrefix+" "+l.captionCount+" "),i=e.children[0],this._buildTree(i);break;case"comment":i=e.children[0],this._html.beginSpan("ps-comment"),this._html.putText(this._options.commentDelimiter),this._buildTree(i),this._html.endSpan();break;case"statement":var k={state:"",ensure:"Ensure: ",require:"Require: ",input:"Input: ",output:"Output: ",print:"print ",return:"return "}[e.value];this._newLine(),k&&this._typeKeyword(k),i=e.children[0],this._buildTree(i);break;case"open-text":var C=new o(e.children,this._globalTextStyle);this._html.putHTML(C.renderToHTML(this.backend));break;case"close-text":var S=new r(this._globalTextStyle.fontSize()),L=new o(e.children,S);this._html.putHTML(L.renderToHTML(this.backend));break;default:throw new ParseError("Unexpected ParseNode of type "+e.type)}},t.exports=l},{"./utils":6,katex:void 0,mathjax:void 0}],6:[function(e,t,n){function i(e){return"object"==typeof e&&e instanceof Object}t.exports={isString:function(e){return"string"==typeof e||e instanceof String},isObject:i,toString:function e(t){if(!i(t))return t+"";var n=[];for(var r in t)n.push(r+": "+e(t[r]));return n.join(", ")}}},{}]},{},[1])(1)});