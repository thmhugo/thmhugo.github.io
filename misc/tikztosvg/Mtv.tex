\newcommand{\colors}{6/olive, 5/teal, 4/purple, 3/red, 2/orange, 1/yellow, 0/pink}
\newcommand{\doublearrow}{{Stealth[length=2mm, width=2mm]}-{Stealth[length=2mm, width=2mm]}}
\newcommand{\doublearrowsmall}{{Stealth[length=1mm, width=1mm]}-{Stealth[length=1mm, width=1mm]}}

\begin{tikzpicture}
    \tikzmath{
        \w = 3;
        \h = 0.6;
        \n = 7;
        \lenN = \h * .5;
        \s = \h * \n;
        \nm = \n - 1;
        \gap = 1;
        \vecX =  \n * \h + \gap * .5 + \h;
        \resVecX = \s + 2*\gap + \lenN ;
        \matOffset = (\n * \h - \w) * .5;
        \labelSpace = 0.3;
    }

    % definition of the coordinates of the matrix
    \foreach \x/\y in {0,...,\n}
    {
        \coordinate (a\x) at (\x * \h, \matOffset) {};
        \coordinate (b\x) at (\x * \h, \w + \matOffset) {};
        \coordinate (x\x) at (\x * \h + \lenN, \matOffset) {};
        \coordinate (y\x) at (\x * \h + \lenN, \w + \matOffset) {};
    }

    % draw and fill the matrix rows
    \foreach \x/\y in \colors
    {
        \pgfmathtruncatemacro{\nextX}{\x+1}
        \draw[fill = \y!60]
            (a\x) -- (b\x) -- (b\nextX) -- (a\nextX) -- (a\x);
        \draw[dashed, line width = .1mm]
            (x\x) -- (y\x);
    }

    % definition of the coordinates of the vector t
    \foreach \x/\y in {0,...,\n}
    {
        \coordinate (c\x) at (\vecX, \s - \x * \h) {};
        \coordinate (d\x) at (\vecX + \lenN, \s - \x * \h) {};
    }

    % draw and fill the resulting vector
    \foreach \x/\y in \colors
    {
        \pgfmathtruncatemacro{\nextX}{\x+1}
        \draw[preaction={fill, \y!60}, pattern=north west lines, pattern color=black]
            (c\x) -- (d\x) -- (d\nextX) -- (c\nextX) -- (c\x);
    }

    % operators
    \node[] () at (\s + \gap / 2, \h * \n * .5) {$\times$};
    \node[] () at (\resVecX - .5 * \gap , \h * \n * .5) {$=$};

    % hatched vector
    \draw[pattern=north west lines, pattern color=black]
        (\resVecX, \matOffset)
     -- (\resVecX + \h * .5, \matOffset)
     -- (\resVecX + \h * .5, \n * \h - \matOffset)
     -- (\resVecX, \n * \h - \matOffset)
     -- (\resVecX, \matOffset);

    % Iiformations about dimensions of the matrices
    \draw [\doublearrow]
        (0,-\labelSpace + \matOffset) -- (\h * \n, -\labelSpace + \matOffset);
    \node[label={[align=center]below:$N$}] at
        (\s * .5, -\labelSpace + \matOffset) {};

    \draw [\doublearrow]
        (-\labelSpace,\matOffset) -- (-\labelSpace, \h * \n - \matOffset);
    \node[label={[align=center]left:$N-k$}] at
        (-\labelSpace, \w * .5 + \matOffset) {};

    \draw [\doublearrowsmall]
        (0,\w + \labelSpace + \matOffset) -- (\h, \w + \labelSpace + \matOffset);
    \node[label={[align=center]above:\footnotesize$N/p$}] at
        (\lenN, \w + \labelSpace + \matOffset) {};

    \draw [\doublearrowsmall]
        (\s + 2 * \gap + \lenN,-\labelSpace + \matOffset)
     -- (\s + 2 * \gap + 2 * \lenN, -\labelSpace + \matOffset);
    \node[label={[align=center]below:$n$}] at
        (\s + 2 * \gap + \lenN * 1.5, -\labelSpace + \matOffset) {};

    % mame of each matrix
    \node[label={[align=center]center:$M^T$}] at
        (\s * .5, \h * \n + \labelSpace) {};
    \node[label={[align=center]center:$t$}] at
        (\vecX + \lenN * .5, \h * \n + \labelSpace) {};
    \node[label={[align=center]center:$Av$}] at
        (\resVecX + \lenN * .5, \h * \n + \labelSpace) {};
\end{tikzpicture}